<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />



<meta name="date" content="2022-10-04" />

<title>Семинар 5. Задание.</title>

<script src="sem05_mult_reg_files/header-attrs-2.16/header-attrs.js"></script>
<script src="sem05_mult_reg_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="sem05_mult_reg_files/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="sem05_mult_reg_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="sem05_mult_reg_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="sem05_mult_reg_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="sem05_mult_reg_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="sem05_mult_reg_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="sem05_mult_reg_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="sem05_mult_reg_files/navigation-1.1/tabsets.js"></script>
<link href="sem05_mult_reg_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="sem05_mult_reg_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">



<h1 class="title toc-ignore">Семинар 5. Задание.</h1>
<h4 class="date">2022-10-04</h4>

</div>


<div id="часть-1.-упражнения" class="section level1">
<h1>Часть 1. Упражнения</h1>
<div id="sw-глава-6-вопрос-6.1" class="section level2">
<h2>SW, глава 6, вопрос 6.1</h2>
<p>Исследователя интересует, как использование компьютеров в школах
влияет на результаты тестов. Используя данные по школьным округам,
похожие на те, что были использованы в данной главе, она оценивает
регрессию зависимости среднего балла по тесту в округе от количества
компьютеров, приходящихся на одного учащегося. Будет ли <span
class="math inline">\(\hat \beta_1\)</span> несмещенной оценкой влияния
на результаты тестов увеличения числа компьютеров на одного ученика?
Почему да или почему нет? Если вы считаете, что оценка <span
class="math inline">\(\hat \beta_1\)</span> смещена, будет ли это
смещение переоценкой или недооценкой коэффициента? Почему?</p>
</div>
<div id="sw-глава-6-вопрос-6.2" class="section level2">
<h2>SW, глава 6, вопрос 6.2</h2>
<p>Множественная регрессия включает в себя два регрессора: <span
class="math inline">\(Y_i = \beta_0 + \beta_1 X_{1i} + \beta_2 X_{2i} +
u_i\)</span>. Каково ожидаемое изменение <span
class="math inline">\(Y\)</span>, если <span
class="math inline">\(X_1\)</span> увеличивается на 3 единицы и <span
class="math inline">\(X_2\)</span> остается неизменной? Каково ожидаемое
изменение <span class="math inline">\(Y\)</span>, если <span
class="math inline">\(X_2\)</span> уменьшается на 5 единиц и <span
class="math inline">\(X_1\)</span> остается неизменным? Каково ожидаемое
изменение <span class="math inline">\(Y\)</span>, если <span
class="math inline">\(X_1\)</span> увеличивается на 3 единицы и <span
class="math inline">\(X_2\)</span> уменьшается на 5 единиц?</p>
</div>
<div id="sw-глава-6-упражение-6.6" class="section level2">
<h2>SW, глава 6, упражение 6.6</h2>
<p>Исследователь планирует изучить причинно-следственную связь между
числом полицейских и преступностью в округе, используя данные из
случайной выборки по округам США. Он планирует построить регрессию
уровня преступности в округе в зависимости от числа полицейских (на душу
населения) в округе.</p>
<p>а. Объясните, почему в оценках этой регрессии, скорее всего, будет
присутствовать смещение из-за пропущенной переменной. Какие переменные
вы бы добавили в регрессию для контроля важных пропущенных
переменных?</p>
<p>б. Используйте результаты пункта (a) и выражение для смещения из-за
пропущенной переменной в уравнении (6.1), чтобы определить, будет ли в
регрессии пере- или недооценено влияние числа полицейских на уровень
преступности. (Иными словами, считаете ли вы, что <span
class="math inline">\(\hat \beta_1 &gt; \beta_1\)</span> или <span
class="math inline">\(\hat \beta_1 &lt; \beta_1\)</span>)</p>
</div>
<div id="sw-глава-6-упражение-6.8" class="section level2">
<h2>SW, глава 6, упражение 6.8</h2>
<p>Рассмотрите критически каждый из предлагаемых ниже планов
исследования. Опишите любые проблемы, которые могут возникнуть при
проведении исследования, а также способы улучшения имеющихся планов
исследования. Обсудите, какие дополнительные данные нужно собрать и
соответствующие статистические методы, которые можно использовать для
анализа данных.</p>
<p>а. Исследователь хочет выяснить, существует ли дискриминация по
половому признаку при установлении заработной платы в крупной
аэрокосмической фирме. Чтобы определить потенциальный гендерный разрыв в
зарплатах, исследователь собирает данные о зарплате и поле всех
инженеров фирмы. Затем исследователь планирует провести тест на
равенство средних значений для проверки гипотезы о том, что средняя
заработная плата женщин существенно меньше, чем средняя зарплата
мужчин.</p>
<p>б. Исследователь хочет выяснить, существует ли постоянное влияние
наличия у человека срока тюремного заключения на ставку его заработной
платы. Он собирает данные из случайной выборки людей, которые вышли из
тюрьмы по крайней мере 15 лет назад. Он также собирает аналогичные
данные по случайной выборке людей, которые никогда не сидели в тюрьме.
Собранные данные включают информацию о текущей заработной плате каждого
человека, образовании, возрасте, этнической принадлежности, поле, стаже
(время работы в текущей области), роде занятий и статусе в профсоюзе, а
также информацию о том, сидел ли этот человек когда-либо в тюрьме или
нет. Исследователь планирует оценить влияние факта лишения свободы на
заработную плату, оценив регрессию заработной платы на фиктивную
переменную, равную единице, если человек сидел в тюрьме, и нулю — в
противном случае, а также на другие факторы, потенциально влияющие на
размер заработной платы (образование, стаж, статус в профсоюзе и так
далее).</p>
</div>
<div id="sw-глава-6-упражение-6.9" class="section level2">
<h2>SW, глава 6, упражение 6.9</h2>
<p>Предположим, что <span class="math inline">\((Y_i , X_{1i} ,
X_{2i})\)</span> удовлетворяют предположениям из вставки “Основные
понятия 6.4”.</p>
<p>Вы заинтересованы в получении оценки коэффициента <span
class="math inline">\(\beta_1\)</span>, отражающего влияние переменной
<span class="math inline">\(X_1\)</span> на <span
class="math inline">\(Y\)</span>.</p>
<p>Предположим, что <span class="math inline">\(X_1\)</span> и <span
class="math inline">\(X_2\)</span> некоррелированы.</p>
<p>Вы оцениваете коэффициент <span
class="math inline">\(\beta_1\)</span> в регрессии <span
class="math inline">\(Y\)</span> на <span
class="math inline">\(X_1\)</span> (переменная <span
class="math inline">\(X_2\)</span> не входит в регрессию). Значит ли
это, что полученная оценка будет смещена из-за пропущенной переменной?
Объясните.</p>
</div>
</div>
<div id="часть-2.-эмпирический-пример" class="section level1">
<h1>Часть 2. Эмпирический пример</h1>
<p>Ваша задача — исследовать ценовую дискриминацию на рынке фастфуда по
расе и доходу.</p>
<div id="исследовательский-вопрос" class="section level2">
<h2>Исследовательский вопрос</h2>
<ol style="list-style-type: decimal">
<li><p>Сформулируйте исследовательский вопрос.</p></li>
<li><p>Сформулируйте исследовательскую гипотезу</p></li>
<li><p>Обсудите экономический механизм, который бы ее объяснял.</p></li>
</ol>
</div>
<div id="модель" class="section level2">
<h2>Модель</h2>
<ol style="list-style-type: decimal">
<li><p>Выпишите модели парной линейной регрессии, который подходят для
описания изучаемых взаимосвязей.</p></li>
<li><p>Обсудите проблему пропущенных переменных. К каким последствиям
она может привести?</p></li>
<li><p>Обсудите, какие контрольные переменные необходимо включить в
модель для решения проблемы пропущенных переменных.</p></li>
<li><p>Обсудите угрозы внутренней и внешней валидности
исследования.</p></li>
</ol>
</div>
<div id="загрузка-пакетов" class="section level2">
<h2>Загрузка пакетов</h2>
<p>Не забудьте загрузить необходимые пакеты.</p>
<pre class="r"><code>library(wooldridge)   # пакет содержит наборы данных, используемые в учебнике Wooldridge
                      # ...самостоятельно выберите пакеты для работы с данными...
library(lmtest)       # тестирование гипотез
library(sandwich)     # робастные стандартные ошибки
library(stargazer) # представление результатов нескольких регрессий в одной таблице</code></pre>
</div>
<div id="набор-данных" class="section level2">
<h2>Набор данных</h2>
<p>На этом семинаре мы продолжаем работать с данными <a
href="https://www.rdocumentation.org/packages/wooldridge/versions/1.4-2/topics/discrim">“discrim”</a>.
Фрагмент данных можно загрузить, используя встроенный набор данных
пакета <a
href="https://www.rdocumentation.org/packages/wooldridge/versions/1.4-2">wooldridge</a>.</p>
<pre class="r"><code>data(&quot;discrim&quot;)</code></pre>
<p>Изучите загруженные данные. Обсудите, какие переменные лучше всего
подходят для ответа на поставленный исследовательский вопрос.</p>
</div>
<div id="предварительная-обработка-данных" class="section level2">
<h2>Предварительная обработка данных</h2>
<p>При ознакомлении с данными вы можете заметить, что характеристики
заведений фастфуда собирались в две разные волны, в то время как
характеристики районов постоянны. Для сопоставимости создайте
переменные, равные средним за две волны значениям необходимых
переменных.</p>
</div>
<div id="разведывательный-анализ-данных" class="section level2">
<h2>Разведывательный анализ данных</h2>
<p>Проведите разведывательный анализ данных:</p>
<ol style="list-style-type: decimal">
<li><p>Постройте таблицу с описательными статистиками основных
переменных.</p></li>
<li><p>Постройте графики, визуализирующие изучаемую
взаимосвязь.</p></li>
<li><p>Можете провести дополнительный разведывательный анализ на свое
усмотрение.</p></li>
</ol>
</div>
<div id="регрессионный-анализ" class="section level2">
<h2>Регрессионный анализ</h2>
<p>Проведите регрессионный анализ взаимосвязи между переменными цен на
фастфуд и переменными расы и дохода:</p>
<ol style="list-style-type: decimal">
<li><p>Оцените модель парной регрессии, выбрав в качестве зависимой одну
из переменных цены, используя функцию <code>lm()</code> для
оценки.</p></li>
<li><p>Рассчитайте робастные стандартные ошибки оценок коэффициентов,
используя функцию <code>coeftest()</code> из пакета <code>lmtest</code>
в комбинации с возможностями пакета <code>sandwich</code>.</p></li>
<li><p>Повторите действия для модели множественной линейной регрессии
(лучше использовать несколько моделей для сопоставления).</p></li>
<li><p>Проинтерпретируйте полученные результаты (особое внимание уделите
оценке коэффициента при регрессоре).</p></li>
<li><p>Сведите результаты оценки всех регрессий в одну таблицу, включая
робастные стандартные ошибки. Для этого рекомендуется использовать
функцию <code>modelsummary()</code> из пакета <code>modelsummary</code>.
Подробную информацию о работе с пакетом можно найти на <a
href="https://vincentarelbundock.github.io/modelsummary/">его
странице</a>. Альтернативным вариантом является использование функции
<code>stargazer()</code> из пакета <code>stargazer</code>.</p></li>
<li><p>Постройте диаграмму рассеяния для отражения ключевой взаимосвязи
и нанесите на нее линию значений, предсказанных моделью множественной
линейной регрессии. Нанесите на график линию изменения значений
зависимой переменной от переменной интереса, зафиксировав значения
контрольных переменных.</p></li>
<li><p>Повторите все действия, проведя анализ для других переменных
цены.</p></li>
<li><p>Оформите скрипт R так, чтобы он был понятным и
воспроизводимым.</p></li>
</ol>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
