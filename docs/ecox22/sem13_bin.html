<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Семинар 13. Задание.</title>

<script src="sem13_bin_files/header-attrs-2.16/header-attrs.js"></script>
<script src="sem13_bin_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="sem13_bin_files/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="sem13_bin_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="sem13_bin_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="sem13_bin_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="sem13_bin_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="sem13_bin_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="sem13_bin_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="sem13_bin_files/navigation-1.1/tabsets.js"></script>
<link href="sem13_bin_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="sem13_bin_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="../extra.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">



<h1 class="title toc-ignore">Семинар 13. Задание.</h1>

</div>


<div id="часть-1.-упражнения-и-вопросы" class="section level1">
<h1>Часть 1. Упражнения и вопросы</h1>
<div id="sw-глава-11-вопрос-11.1" class="section level2">
<h2>SW, глава 11, вопрос 11.1</h2>
<p>Предположим, что линейная вероятностная модель дает предсказанное
значение <span class="math inline">\(Y\)</span>, равное 1.3. Поясните,
почему данное значение не имеет смысла.</p>
</div>
<div id="sw-глава-11-вопрос-11.2" class="section level2">
<h2>SW, глава 11, вопрос 11.2</h2>
<p>В таблице 11.2 оценка коэффициента при переменной <code>black</code>
равна 0.084 в столбце (1), 0.688 в столбце (2) и 0.389 в столбце (3).
Несмотря на эти существенные различия, все модели дают схожие оценки
предельной величины влияния расовой принадлежности на вероятность
получения отказа в выдаче кредита. Поясните данные результаты.</p>
</div>
<div id="sw-глава-11-вопрос-11.6" class="section level2">
<h2>SW, глава 11, вопрос 11.6</h2>
<p>Используя оценки пробит-модели, представленной в уравнении (11.9),
ответьте на следующие вопросы:</p>
<p>а) Афроамериканец с <code>P/I ratio</code> = 0.35 подает заявление на
получение кредита. Какова вероятность того, что заявление будет
отклонено?</p>
<p>б) Предположим, что заявитель снизил свой показатель
<code>P/I ratio</code> до 0.30. Какой эффект это окажет на вероятность
отказа в получении кредита?</p>
<p>в) Ответьте еще раз на вопросы из пунктов (а) и (б) для “белокожего”
заявителя.</p>
<p>г) Зависит ли предельный эффект изменения <code>P/I ratio</code> на
вероятность отказа в получении кредита от расовой принадлежности?
Поясните свой ответ.</p>
</div>
<div id="sw-глава-11-вопрос-11.7" class="section level2">
<h2>SW, глава 11, вопрос 11.7</h2>
<p>Повторите упражнение 11.6, используя логит-модель, представленную в
уравнении (11.10). Одинаковы ли результаты для логит– и пробит-моделей?
Поясните свой ответ.</p>
</div>
<div id="w-chapter-17-problem-2" class="section level2">
<h2>W, chapter 17, problem 2</h2>
<p>Let grad be a dummy variable for whether a student-athlete at a large
university graduates in five years. Let <code>hsGPA</code> and
<code>SAT</code> be high school grade point average and SAT score,
respectively. Let study be the number of hours spent per week in an
organized study hall. Suppose that, using data on 420 student-athletes,
the following logit model is obtained:</p>
<p><span class="math display">\[
\hat P(grad  = 1 | hsGPA, SAT, study) = \Lambda (-0.17 + 0.24 hsGPA +
0.00058 SAT + 0.073 study)
\]</span></p>
<p>where <span class="math inline">\(\Lambda(z) = exp(z) / [1 +
exp(z)]\)</span> is the logit function. Holdinghs <code>GPA</code> fixed
at 3.0 and <code>SAT</code> fixed at 1200, compute the estimated
differencein the graduation probability for someone who spent 10 hours
per week in study hall and someone who spent 5 hours per week.</p>
</div>
</div>
<div id="часть-2.-эмпирический-пример-по-мотивам-упражнения-sw-e11.1"
class="section level1">
<h1>Часть 2. Эмпирический пример (по мотивам упражнения SW E11.1)</h1>
<div id="исследовательский-вопрос" class="section level2">
<h2>Исследовательский вопрос</h2>
<p>Ваша задача — исследовать, действительно ли запрет курения на рабочем
месте пубеждает курильщиков избавляться от этой вредной привычки.</p>
</div>
<div id="загрузка-пакетов" class="section level2">
<h2>Загрузка пакетов</h2>
<p>Не забудьте загрузить необходимые пакеты.</p>
</div>
<div id="набор-данных" class="section level2">
<h2>Набор данных</h2>
<p>В этом задании необходимо оценить влияние запретов на курение на
рабочем месте, используя базу данных по 10 тыс. офисным работникам в США
в период с 1991 по 1993 год, содержащуюся в файле Smoking. База данных
содержит информацию о том, были ли введены по месту работы индивида
запреты на курение на рабочем месте, является ли тот или иной индивид
курильщиком, а также ряд других индивидуальных характеристик.</p>
<p>Данные можно загрузить, используя встроенные набор данных пакета <a
href="https://rdrr.io/cran/AER/">AER</a> (используйте набор данных
<code>SmokeBan</code>). Описание данных доступно по <a
href="https://rdrr.io/cran/AER/man/SmokeBan.html">ссылке</a>.</p>
<pre class="r"><code>data(&quot;SmokeBan&quot;)</code></pre>
</div>
<div id="разведывательный-анализ-данных" class="section level2">
<h2>Разведывательный анализ данных</h2>
<p>Проведите разведывательный анализ данных:</p>
<ol style="list-style-type: decimal">
<li><p>Постройте таблицу с описательными статистиками основных
переменных.</p></li>
<li><p>Постройте графики, взаимосвязь между возрастом и
курением.</p></li>
<li><p>Постройте таблицу сопряженности между курением и его запретом на
рабочем месте.</p></li>
<li><p>При необходимости проведите преобразования переменных.</p></li>
</ol>
</div>
<div id="регрессионный-анализ" class="section level2">
<h2>Регрессионный анализ</h2>
<p>Проведите регрессионный анализ, используя модели probit и logit:</p>
<ol style="list-style-type: decimal">
<li>Оцените коэффициенты в регрессии <code>smoker</code> на
<code>ban</code>. Для оценки рекомендуется использовать функцию
<code>glm()</code> со следующими аргументами:
<code>glm(..., data = ..., family = binomial(link = "..."), x = TRUE)</code>.</li>
</ol>
<ul>
<li><p>Проинтерпретируйте оцененные коэффициенты и их значимость (не
забудьте посчитать робастные стандартные ошибки).</p></li>
<li><p>Каков эффект запрета на курение на рабочем месте на вероятность
курения для сотрудников? Испльзуйте функцию
<code>margins_summary()</code>.</p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Добавьте в модель контрольные переменные и оцените коэффициенты в
новой модели.</li>
</ol>
<ul>
<li><p>Сравните полученные оценки эффекта запретов на курение с ответом,
полученным в предыдущем пункте. Предложите причину, основанную на
сущности этой регрессии, которая объясняла бы изменение в предполагаемом
эффекте запрета на курение между этими пунктами.</p></li>
<li><p>Проинтерпретируйте оцененные коэффициенты и их значимость (не
забудьте посчитать робастные стандартные ошибки).</p></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Проанализируйте предельные эффекты для модели с контрольными
переменными.</li>
</ol>
<ul>
<li><p>Каков эффект запрета на курение на рабочем месте на вероятность
курения для сотрудников, если зафиксировать все переменные на каком-то
уровне? Например, рассмотрите индивида мужского пола среднего возраста,
который закончил колледж и не является ни афроамериканцем, ни
латиноамеринанцем.</p></li>
<li><p>Рассчитайте и покажите на графике, как отличается эффект запрета
на курение для людей разного пола, если остальные переменные
зафиксированы.</p></li>
<li><p>Рассчитайте и покажите на графике, как отличается эффект запрета
на курение для людей разного возраста, если остальные переменные
зафиксированы.</p></li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>(бонус) Рассчитайте оценки отношения шансов и доверительные
интервалы к ним для logit модели c контрольными переменными.</li>
</ol>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
